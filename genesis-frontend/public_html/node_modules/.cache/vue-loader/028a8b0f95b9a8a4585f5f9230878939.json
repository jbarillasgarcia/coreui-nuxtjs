{"remainingRequest":"/home/abarillas/projects/CoreUI_Nuxt3/public_html/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/abarillas/projects/CoreUI_Nuxt3/public_html/src/views/plugins/Draggable.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/abarillas/projects/CoreUI_Nuxt3/public_html/src/views/plugins/Draggable.vue","mtime":1542198414000},{"path":"/home/abarillas/projects/CoreUI_Nuxt3/public_html/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/abarillas/projects/CoreUI_Nuxt3/public_html/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/abarillas/projects/CoreUI_Nuxt3/public_html/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abarillas/projects/CoreUI_Nuxt3/public_html/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.main {\n  overflow: hidden;\n}\n.vue-grid-item.vue-grid-placeholder {\n  background: gray!important;\n  border: thin dashed!important;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .vue-grid-item .card.flex-fill {\n    display: block;\n  }\n}\n",{"version":3,"sources":["Draggable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Draggable.vue","sourceRoot":"src/views/plugins","sourcesContent":["<template>\n  <div class=\"animated fadeIn\">\n    <grid-layout\n      :layout=\"mqLayout\"\n      :col-num=\"mqCols\"\n      :is-draggable=\"true\"\n      :is-resizable=\"false\"\n      :is-mirrored=\"false\"\n      :vertical-compact=\"true\"\n      :margin=\"margin\"\n      :use-css-transforms=\"true\"\n      :row-height=\"rowHeight\"\n      :auto-size=\"true\"\n      ref=\"coreuiGridLayout\"\n      @layout-updated=\"layoutUpdatedEvent\"\n    >\n      <grid-item v-for=\"item in mqLayout\"\n                 class=\"d-flex align-items-start\"\n                 :x=\"item.x\"\n                 :y=\"item.y\"\n                 :w=\"item.w\"\n                 :h=\"item.h\"\n                 :i=\"item.i\"\n                 :key=\"item.i\"\n                 dragAllowFrom=\".card-header\"\n                 dragIgnoreFrom=\".card-body\"\n                 :isDraggable=\"item.static ? false : true\"\n      >\n        <resize-observer @notify=\"handleResize(item)\"></resize-observer>\n        <b-card no-body header-tag=\"header\" :class=\"item.cardClass\" :id=\"`coreui-dnd-card-no-${item.i}`\" class=\"flex-fill\">\n          <div slot=\"header\">\n            {{`${item.cardHeader || 'Drag & Drop'} ${item.i}`}}\n            <a href=\"https://coreui.io/pro/vue/\" rel=\"noreferrer noopener\" target=\"_blank\" class=\"badge badge-danger ml-1\">CoreUI Pro</a>\n            <div class=\"card-header-actions\" v-if=\"item.i==='0'\">\n              <small><b-link variant=\"link\" @click=\"resetLayout\">Reset Layouts</b-link></small>\n            </div>\n          </div>\n          <b-card-body>\n            {{item.cardBody || 'Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.'}}\n          </b-card-body>\n        </b-card>\n      </grid-item>\n    </grid-layout>\n  </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport VueMq from 'vue-mq'\nimport VueResize from 'vue-resize'\nimport * as VueGridLayout from 'vue-grid-layout'\nimport defaultLayouts from './_layouts'\n\nconst GridLayout = VueGridLayout.GridLayout;\nconst GridItem = VueGridLayout.GridItem;\n\nconst breakpoints = {\n  xs: 575,\n  sm: 767,\n  md: 991,\n  lg: 1199,\n  xl: Infinity\n}\n\nconst gridCols = {xs: 1, sm: 2, md: 3, lg: 3, xl: 3 }\nconst localStorageKey = 'CoreUI-Draggable-Layouts'\n\nVue.use(VueMq, { breakpoints })\nVue.use(VueResize)\n\nexport default {\n  name: 'Draggable',\n  components: {\n    GridLayout,\n    GridItem,\n  },\n  data: function () {\n    return {\n      layouts: JSON.parse(localStorage.getItem(localStorageKey) || JSON.stringify(defaultLayouts)),\n      gridCols: gridCols,\n      margin: [10, 10],\n      rowHeight: 1\n    }\n  },\n  mounted: function () {\n    this.$nextTick(async function () {\n      // Code that will run only after the\n      // entire view has been re-rendered\n      await this.updateLayout()\n    })\n  },\n  computed: {\n    mqCols() {\n      const mq = this.$mq\n      return this.gridCols[mq]\n    },\n    mqLayout() {\n      const mq = this.$mq\n      const layouts = this.layouts\n      return layouts[mq]\n    }\n  },\n  methods: {\n    handleResize: async function(item) {\n      const mq = this.$mq\n      const layout = this.layouts[mq][item.i]\n      if (layout) {\n        const size = await this.getSize(item.i)\n        layout.h = Math.round((size.height - this.rowHeight) / 10)\n        this.updateLayout()\n      }\n    },\n    async getSize(itemId) {\n      let card = await document.getElementById(`coreui-dnd-card-no-${itemId}`)\n      let height = parseInt(window.getComputedStyle(card).getPropertyValue('height'), 10)\n      let width = parseInt(window.getComputedStyle(card).getPropertyValue('width'), 10)\n      return { height, width }\n    },\n    layoutUpdatedEvent: function(/*newLayout*/){\n      localStorage.setItem(localStorageKey, JSON.stringify(this.layouts))\n    },\n    resetLayout() {\n      this.layouts = JSON.parse(JSON.stringify(defaultLayouts))\n      localStorage.removeItem(localStorageKey)\n      this.updateLayout()\n    },\n    updateLayout() {\n      this.$refs.coreuiGridLayout.layoutUpdate()\n    }\n  }\n}\n</script>\n\n<style>\n.main {\n  overflow: hidden;\n}\n.vue-grid-item.vue-grid-placeholder {\n  background: gray!important;\n  border: thin dashed!important;\n}\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .vue-grid-item .card.flex-fill {\n    display: block;\n  }\n}\n</style>\n\n"]}]}